C51 COMPILER V9.00   PI                                                                    01/15/2025 09:25:09 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE PI
OBJECT MODULE PLACED IN .\Debug\PI.obj
COMPILER INVOKED BY: E:\KEIL\KEIL4\C51\BIN\C51.EXE ..\User\source\Hardware\PI.c LARGE OMF2 BROWSE INCDIR(..\FU68xx_Hardw
                    -are_Driver\Include;..\User\include) DEBUG PRINT(.\Listings\PI.lst) OBJECT(.\Debug\PI.obj)

line level    source

   1          /* --------------------------- (C) COPYRIGHT 2021 Fortiortech ShenZhen -----------------------------
   2              File Name      : PIInit.c
   3              Author         : Lewis.wang
   4              Version        : V1.0
   5              Date           : 2021-12-07
   6              Description    : This file contains PI function used for Motor Control.
   7          ----------------------------------------------------------------------------------------------------  
   8                                                 All Rights Reserved
   9          ------------------------------------------------------------------------------------------------- */
  10          #include <FU68xx_4_MCU.h>
  11          #include <Myproject.h>
  12          /* -------------------------------------------------------------------------------------------------
  13              Function Name  : PI3_Init
  14              Description    : PI3初始化配置
  15              Date           : 2021-12-07
  16              Parameter      : None
  17          ------------------------------------------------------------------------------------------------- */
  18          void PI3_Init(void)
  19          {
  20   1          PI3_KP  = SKP3;
  21   1          PI3_KI  = SKI3;
  22   1          PI3_UKH = 0;
  23   1          PI3_UKL = 0;
  24   1          PI3_EK  = 0;
  25   1          PI3_EK1 = 0;
  26   1          PI3_EK2 = 0;
  27   1          PI3_UKMAX =SOUT3MAX;
  28   1          PI3_UKMIN =SOUT3MIN;
  29   1          SetBit(PI_CR , PI3STA);         
  30   1          while (ReadBit(PI_CR , PIBSY));
  31   1      }
  32          
  33          /* -------------------------------------------------------------------------------------------------
  34              Function Name  : PI_Init_PLL
  35              Description    : PLL中PI初始化
  36              Date           : 2022-12-19
  37              Parameter      : None
  38          ------------------------------------------------------------------------------------------------- */
  39          void PI_Init_PLL(void)
  40          {
  41   1          PI3_KP  = PLLKP_GAIN;
  42   1          PI3_KI  = PLLKI_GAIN;
  43   1          PI3_UKH = 0;
  44   1          PI3_UKL = 0;
  45   1          PI3_EK  = 0;
  46   1          PI3_EK1 = 0;
  47   1          PI3_KD = 0;
  48   1          PI3_EK2 = 0;
  49   1          PI3_UKMAX = 32767;
  50   1          PI3_UKMIN = -32767;
  51   1          SetBit(PI_CR , PI3STA);          // Start PI
  52   1          while (ReadBit(PI_CR , PIBSY));
  53   1          PI2_KP  = PLLKP_GAIN;
  54   1          PI2_KI  = PLLKI_GAIN;
C51 COMPILER V9.00   PI                                                                    01/15/2025 09:25:09 PAGE 2   

  55   1          PI2_UKH = 0;
  56   1          PI2_UKL = 0;
  57   1          PI2_EK  = 0;
  58   1          PI2_EK1 = 0;
  59   1          PI2_KD = 0;
  60   1          PI2_EK2 = 0;
  61   1          PI2_UKMAX = 32767;
  62   1          PI2_UKMIN = -32767;
  63   1          SetBit(PI_CR , PI2STA);          // Start PI
  64   1          while (ReadBit(PI_CR , PIBSY));
  65   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    229    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
